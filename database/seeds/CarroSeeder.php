<?php

use App\Carro;
use App\Marca;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Storage;

class CarroSeeder extends Seeder
{
    protected $array_carros = [
        "INTEGRA", "NSX", "MARRUA", "145", "147", "155", "156", "164", "166", "2300", "SPIDER", "HUMMER", "AM-825", "HI-TOPIC", "ROCSTA", "TOPIC", "TOWNER", "100", "80", "A1", "A3", "A4 SEDAN", "A5 COUPE", "A6 SEDAN", "A7", "A8", "Q3", "Q5", "Q7", "R8", "RS3", "RS4", "RS5", "RS6", "S3", "S4 SEDAN", "S6 SEDAN", "S8", "TT", "TTS", "BUGGY", "DEVILLE", "ELDORADO", "SEVILLE", "JAVALI", "MINI STAR FAMILY", "MINI STAR UTILITY", "CIELO", "FACE", "QQ", "S-18", "TIGGO", "300C", "CARAVAN", "CIRRUS", "GRAN CARAVAN", "LE BARON", "NEON", "PT CRUISER", "SEBRING", "STRATUS", "TOWN E COUNTRY", "VISION", "AIRCROSS", "AX", "BERLINGO", "BX", "C3", "C4", "C5", "C6", "C8", "DS3", "EVASION", "JUMPER", "XANTIA", "XM", "XSARA", "ZX", "CL-244", "CL-330", "ESPERO", "LANOS", "LEGANZA", "NUBIRA", "PRINCE", "RACER", "SUPER SALON", "TICO", "APPLAUSE", "CHARADE", "CUORE", "FEROZA", "GRAN MOVE", "MOVE VAN", "TERIOS", "AVENGER", "DAKOTA", "JOURNEY", "RAM", "STEALTH", "M-100", "PLUTUS", "START", "ULC", "ENGESA", "CAMPER", "MASTER", "348", "355", "360", "456", "550", "575M", "612", "CALIFORNIA", "F430", "F599", "147", "500", "BRAVA", "BRAVO", "COUPE", "DOBLO", "DUCATO CARGO", "DUNA", "ELBA", "FIORINO", "FREEMONT", "GRAND SIENA", "IDEA", "LINEA", "MAREA", "OGGI", "PALIO", "PANORAMA", "PREMIO", "PUNTO", "SIENA", "STILO", "STRADA", "TEMPRA", "TIPO", "UNO", "AEROSTAR", "ASPIRE", "BELINA", "CLUB WAGON", "CONTOUR", "CORCEL II", "COURIER", "CROWN VICTORIA", "DEL REY", "ECOSPORT", "EDGE", "ESCORT", "EXPEDITION", "EXPLORER", "F-100", "F-1000", "F-150", "F-250", "FIESTA", "FOCUS", "FURGLAINE", "FUSION", "IBIZA", "KA", "MONDEO", "MUSTANG", "PAMPA", "PROBE", "RANGER", "VERSAILLES ROYALE", "TAURUS", "THUNDERBIRD", "TRANSIT", "VERONA", "VERSAILLES", "WINDSTAR", "A-10", "A-20", "AGILE", "ASTRA", "BLAZER", "BONANZA", "C-10", "C-20", "CALIBRA", "CAMARO", "CAPRICE", "CAPTIVA", "CARAVAN", "CAVALIER", "CELTA", "CHEVY", "CHEYNNE", "COBALT", "CORSA", "CORVETTE", "CRUZE", "D-10", "D-20", "IPANEMA", "KADETT", "LUMINA", "MALIBU", "MERIVA", "MONTANA", "OMEGA", "OPALA", "PRISMA", "S10", "SILVERADO", "SONIC", "SONOMA", "SPACEVAN", "SS10", "SUBURBAN", "SYCLONE", "TIGRA", "TRACKER", "TRAFIC", "VECTRA", "VERANEIO", "ZAFIRA", "HOVER", "BR-800", "CARAJAS", "TOCANTINS", "XAVANTE", "VIP", "ACCORD", "CITY", "CIVIC", "CR-V", "FIT", "ODYSSEY", "PASSPORT", "PRELUDE", "ACCENT", "ATOS", "AZERA", "COUPE", "ELANTRA", "EXCEL", "GALLOPER", "GENESIS", "H1", "H100", "I30", "IX35", "MATRIX", "PORTER", "SANTA FE", "SCOUPE", "SONATA", "TERRACAN", "TRAJET", "TUCSON", "VELOSTER", "VERACRUZ", "AMIGO", "HOMBRE", "RODEO", "J3", "J5", "J6", "DAIMLER", "S-TYPE", "X-TYPE", "MODELOS XJ", "MODELOS XK", "CHEROKEE", "COMMANDER", "COMPASS", "GRAND CHEROKEE", "WRANGLER", "TOPIC VAN", "JIPE MONTEZ", "PICAPE MONTEZ", "BESTA", "BONGO", "CADENZA", "CARENS", "CARNIVAL", "CERATO", "CERES", "CLARUS", "MAGENTIS", "MOHAVE", "OPIRUS", "OPTIMA", "PICANTO", "SEPHIA", "SHUMA", "SORENTO", "SOUL", "SPORTAGE", "LAIKA", "NIVA", "SAMARA", "GALLARDO", "MURCIELAGO", "DEFENDER", "DISCOVERY", "FREELANDER", "NEW RANGE", "RANGE ROVER", "ES", "GS", "IS-300", "LS", "RX", "SC", "320", "620", "H1", "ELAN", "ESPRIT", "SCORPIO", "222", "228", "3200", "430", "COUPE", "GHIBLI", "GRANCABRIO", "GRANSPORT", "GRANTURISMO", "QUATTROPORTE", "SHAMAL", "PICK-UP", "323", "626", "929", "B-2500", "B2200", "MILLENIA", "MPV", "MX-3", "MX-5", "NAVAJO", "PROTEGE", "RX", "CLASSE A", "CLASSE B", "CLASSE R", "CLASSE GLK", "SPRINTER", "MYSTIQUE", "SABLE", "550", "MG6", "COOPER", "ONE", "3000", "AIRTREK", "ASX", "COLT", "DIAMANT", "ECLIPSE", "EXPO", "GALANT", "GRANDIS", "L200", "L300", "LANCER", "MIRAGE", "MONTERO", "OUTLANDER", "PAJERO", "SPACE WAGON", "BG-TRUCK", "350Z", "ALTIMA", "AX", "D-21", "FRONTIER", "KING-CAB", "LIVINA", "MARCH", "MAXIMA", "MURANO", "NX", "PATHFINDER", "PRIMERA", "QUEST", "SENTRA", "STANZA", "180SX", "TERRANO", "TIIDA", "VERSA", "X-TRAIL", "XTERRA", "ZX", "106", "205", "206", "207", "3008", "306", "307", "308", "405", "406", "407", "408", "504", "505", "508", "605", "607", "806", "807", "BOXER", "HOGGAR", "PARTNER", "RCZ", "GRAN VOYAGER", "SUNDANCE", "TRANS-AM", "TRANS-SPORT", "911", "BOXSTER", "CAYENNE", "CAYMAN", "PANAMERA", "21 SEDAN", "CLIO", "DUSTER", "EXPRESS", "FLUENCE", "KANGOO", "LAGUNA", "LOGAN", "MASTER", "MEGANE", "SAFRANE", "SANDERO", "SCENIC", "SYMBOL", "TRAFIC", "TWINGO", "9000", "SL-2", "CORDOBA", "IBIZA", "INCA", "FORTWO", "ACTYON SPORTS", "CHAIRMAN", "ISTANA", "KORANDO", "KYRON", "MUSSO", "REXTON", "FORESTER", "IMPREZA", "LEGACY", "OUTBACK", "SVX", "TRIBECA", "VIVIO", "BALENO", "GRAND VITARA", "IGNIS", "JIMNY", "SUPER CARRY", "SWIFT", "SX4", "VITARA", "WAGON R", "STARK", "AVALON", "BANDEIRANTE", "CAMRY", "CELICA", "COROLLA", "CORONA", "HILUX", "LAND CRUISER", "MR-2", "PASEO", "PREVIA", "RAV4", "SUPRA", "PANTANAL", "T-4", "400 SERIES", "850", "900 SERIES", "AMAROK", "APOLLO", "BORA", "CARAVELLE", "CORRADO", "EOS", "EUROVAN", "FOX", "FUSCA", "GOL", "GOLF", "JETTA", "KOMBI", "LOGUS", "PARATI", "PASSAT", "POINTER", "POLO", "SANTANA", "SAVEIRO", "SPACEFOX", "TIGUAN", "TOUAREG", "VOYAGE", "ZDX", "140", "BRASILIA", "BRASILVAN", "CORCEL", "PALIO WEEKEND", "FOCUS SEDAN", "FIESTA SEDAN", "FIESTA TRAIL", "207 SW", "ESCORT SW", "307 SEDAN", "307 SW", "C4 PALLAS", "C4 PICASSO", "C4 VTR", "CLIO SEDAN", "COROLLA FIELDER", "HILUX SW4", "MEGANE GRAND TOUR", "SANDERO STEPWAY", "XSARA PICASSO", "COLHEITADEIRA", "PICKUP F75", "X12", "BEL AIR", "RX", "C-14", "SRX4", "C-15", "BRASIL", "POLARA", "600", "F-01", "FALCON", "GALAXIE", "MAVERICK", "MODELO A", "NEW FIESTA", "LINHA FX", "GTS", "H3", "PRIME", "TIBURON", "JEEP", "CJ5", "TC", "CLASSE CLC", "CLASSE CLS", "MONTEREY", "TOPSPORT", "TARGA", "X8", "370Z", "GTB", "GTC", "GTE", "AUSTIN", "7TL", "19", "CONVERSÃVEL", "SUPERMINI", "TL", "TOPOLINO", "SR5", "VITZ", "VARIANT", "CANDANGO", "SP2", "RECORB", "POLAUTO", "GORDINI", "MINX", "ETIOS", "ONIX", "HB20", "330", "520", "730", "M1", "SERIE Z", "CLASSE SLK", "CLASSE C", "CLASSE E", "CLASSE CL", "CLASSE CLK", "CLASSE S", "CLASSE SL", "CLASSE SLS", "CLASSE G", "CLASSE GL", "CLASSE M", "1500", "EQUUS", "350 GT", "400 GT", "MIURA", "ISLERO", "ESPADA", "COUNTACH", "DIABLO", "ZAGATO", "ALAR", "LM002", "REVENTON", "ANKONIAN", "AVENTADOR", "SESTO ELEMENTO", "J3 TURIN", "J2", "SANDERO GT", "SPIN", "TRAILBLAZER", "C3 PICASSO", "GRAND C4 PICASSO", "JUMPER MINIBUS", "JUMPER VETRATO", "207 SEDAN", "207 QUIKSILVER", "207 ESCAPADE", "308 CC", "BOXER PASSAGEIRO", "NEW FIESTA SEDAN", "TRANSIT PASSAGEIRO", "TRANSIT CHASSI", "A4 AVANT", "S4 AVANT", "A5 SPORTBACK", "A5 CABRIOLET", "S5 COUPE", "S5 SPORTBACK", "S5 CABRIOLET", "A6 AVANT", "A6 ALLROAD", "S6 AVANT", "S7", "TT ROADSTER", "TT RS", "TT RS ROADSTER", "TTS ROADSTER", "R8 SPYDER", "R8 GT", "R8 GT SPYDER", "F12", "458 SPIDER", "458 ITALIA", "FF", "599", "SA", "CHALLENGE", "SUPERAMERICA", "F430 SPIDER", "430", "612 SESSANTA", "599 GTB", "SCUDERIA SPIDER", "512", "456 GT", "348 GTS", "348 SPIDER", "F355", "F355 SPIDER", "F50", "355 SPIDER", "360 MODENA", "PAJERO FULL", "PAJERO DAKAR", "PAJERO TR4", "LANCER SPORTBACK", "LANCER EVOLUTION", "L200 TRITON SAVANA", "L200 TRITON", "LIVINA X-GEAR", "GRAND LIVINA", "NEW ACTYON SPORTS", "PRIUS", "SPORT", "MTS", "KABRIO", "SAGA", "SAGA II", "787", "X11", "GAIOLA", "NITRO", "CHALLENGER", "DART", "LE BARON", "CORDOBA", "CHARGER", "WINDSOR", "CROSSFIRE", "CORDOBA", "ESCALADE", "RIVIERA", "COUPE", "CENTURY", "APOLLO", "CENTURION", "EIGHT", "ELECTRA", "ESTATE WAGON", "GRAN SPORT", "GSX", "INVICTA", "LESABRE", "LIMITED", "PARK AVENUE", "RAINIER", "REATTA", "REGAL", "RENDEZVOUS", "ROADMASTER", "ROYAUM", "SKYHAWK", "SKYLARK", "SOMERSET", "SPECIAL", "SPORT WAGON", "SUPER", "TERRAZA", "WILDCAT", "LACROSSE", "ENCLAVE", "GL8", "HRV", "LUCERNE", "SIERRA", "BROUGHAM", "CHAIRMAN", "DAMAS", "GENTRA", "MAEPSY", "ISTANA", "KALOS", "KORANDO", "LACETTI", "LEMANS", "MATIZ", "MUSSO", "NEXIA", "REZZO", "ROYALE PRINCE", "ROYALE SALON", "STATESMAN", "TOSCA", "WINSTORM", "RURAL", "D100", "170", "CUSTOM ROYAL", "CLUB COUPE", "MAGNUM", "GMC 100", "SOLSTICE", "ITAMARATY", "MARK V", "GT", "CHAMPION", "BALILLA", "INTERLAGOS", "X15", "F-85", "SPEEDSTER 356", "TOPIC FURGAO", "TOPIC ESCOLAR", "300D", "CLASSE TE", "T-100", "MEGANE SEDAN", "A4 CABRIOLET", "LINHA G", "LINHA G COUPE", "LINHA G CONVERSIVEL", "LINHA M", "LINHA EX", "LINHA JX", "LINHA QX", "MODELOS XF", "F-TYPE", "MARK VII", "MARK VIII", "MARK IX", "MARK X", "E-TYPE", "C-TYPE", "D-TYPE", "MARK I", "MARK II", "GT4R", "SPYDER", "GTI", "AM1", "AM2", "AM3", "AM4", "AMV", "ACTY", "AIRWAVE", "ASCOT", "BALLADE", "BEAT", "CR-X", "CONCERTO", "CR-Z", "DOMANI", "EDIX", "ELEMENT", "EV PLUS", "FCX", "FR-V", "HR-V", "HSC", "INSIGHT", "TL", "LIFE DUNK", "LOGO", "MOBILIO", "MDX", "ORTHIA", "PARTNER VAN", "PILOT", "RIDGELINE", "S2000", "S600", "S500", "S800", "STEPWGN", "STREAM", "THATS", "VAMOZ", "Z", "ZEST", "AERIO", "ALTO", "APV", "KEI", "LAPIN", "MR WAGON", "XL-7", "VERONA", "JEEP CJ", "306 CABRIOLET", "BELCAR", "M715", "407 SW", "307 CC", "STYLELINE", "ANGLIA", "GT2", "YUKON", "SPORTSMAN", "21 NEVADA", "VEYRON", "ENZO", "306 SW", "TI 80", "SPYDER 550", "380 GTB", "T-5", "KINGSWAY", "SSR", "IMPALA", "208", "GRAND BLAZER", "100 SERIES", "200 SERIES", "300 SERIES", "66", "700 SERIES", "AMAZON", "C303", "DUETT", "L3314", "OV 4", "P1800", "SUGGA", "TT", "ONCE", "DE LUXE", "CUSTOM", "T-BUCKET", "G15", "PAJERO FULL 3D", "PAJERO SPORT", "120 CABRIO", "320 TOURING", "330 CABRIO", "SERIE 5 TOURING", "SERIE 6 CABRIO", "SERIE M CONVERSIVEL", "M5 TOURING", "SERIE Z ROADSTER", "KA SPORT", "CC", "CERATO KOUP", "ASTRO", "COROLLA XRS", "ETIOS SEDAN", "FREESTYLE", "COUGAR", "XUV 500", "XYLO", "BOLERO", "THAR", "AXE", "LEGEND", "CJ3", "ARMADA", "CHASSI", "SCORPIO PICK-UP", "STAR TRUCK", "STAR", "STAR VAN CARGO", "STAR VAN PASSAGEIROS", "ALVORADA", "CHAMBORD", "PROFISSIONAL", "VEDETTE", "ARONDE", "1200S", "1000", "HB20X", "HB20S", "MONZA", "CHEVETTE", "X60", "TRAX", "118", "120", "130", "BAVARIA", "C-2800", "318", "320", "318 CABRIO", "325 CABRIO", "530", "540", "550", "740", "750", "760", "MATRIX 4X4", "A7", "A9", "A9 CARGO", "T20", "T20 BAU", "T22", "SUPER 90 COUPE", "X20", "ITAIPU", "G800", "XEF", "MOTOMACHINE", "BUGATO", "QT", "CAICARA", "CARCARA", "FISSORE", "MALZONI", "VEMAGUET", "C4 LOUNGE", "CX-7", "TR", "LUCENA", "SEVETSE", "RAGGE", "C70", "C30", "544", "S40", "S60", "S70", "S80", "V40", "V50", "V60", "V70", "S90", "XC60", "XC70", "XC90", "P1900", "PV36", "PV444", "PV544", "PV51", "PV654", "C50", "190", "CLASSE CLA", "CLASSE V", "VANEO", "CITAN", "VARIO", "CLASSE S CLASSICO", "J3S", "PICK-UP", "VAN", "C3 SOLARIS", "C3 XTR", "C4 SOLARIS", "C5 BREAK\/TOURER", "XSARA BREAK", "XSARA VTS", "XANTIA BREAK", "XM BREAK", "C15", "NEMO", "VISA", "C1", "C2", "C3 PLURIEL", "DS4", "DS5", "JUMPY", "C-CROSSER", "C35", "C25", "CX", "CX BREAK", "AXEL", "DYANE", "GS\/GSA", "GS\/GSA BREAK", "MEHARI", "SAXO", "SM", "ELYSEE", "MASTER MINIBUS", "CELER", "CELER SEDAN", "CIELO SEDAN", "A1 SPORTBACK", "A1 QUATTRO", "A3 SPORTBACK", "RS4 AVANT", "A8L W12", "R8 V10", "RANGER CD", "T140", "X1", "X3", "X5", "X6", "840", "850", "645", "650", "FIT TWIST", "MP4", "F1", "MONDEO SW", "ESCORT SEDAN", "ESCORT CONVERSIVEL", "MX-6", "CORISCO", "CHEVELLE", "EXCURSION", "TOURAN", "F-10000", "HOGGAR ESCAPADE", "PHAETON", "TRANSPORTER", "GRAND BESTA", "200SX", "240SX", "300M", "300C TOURING", "TORINO", "VENTURE", "FLEETLINE", "FLEETMASTER", "DELUXE", "ESCORT XR3", "MASTER", "TORONADO", "SIX", "EIGHT", "DELUXE", "SERIES 60", "SERIES 70", "SERIES 80", "SERIES 90", "STARFIRE", "442", "CUTLASS", "CUTLASS SUPREME", "CUTLASS SALON", "CUTLASS CALAIS", "CUTLASS CIERA", "CUSTOM CRUISER", "VISTA CRUISER", "F-85", "FIRENZA", "ACHIEVA", "ALERO", "AURORA", "BRAVADA", "INTRIGUE", "SILHOUETTE", "SUPERBIRD", "FURY", "SPECIAL", "PROWLER", "TRAIL DUSTER", "VOYAGER", "SCAMP", "ARROW", "PT50", "PT57", "PT81", "PT105", "PT125", "EXPRESS", "VOYAGER EXPRESSO", "NEON", "LASER", "CARAVELLE", "STATION WAGON", "MODEL Q", "MODEL P6", "DB9 COUPE", "DB9 VOLANTE", "VIRAGE COUPE", "RAPIDE S", "V12 VANTAGE", "V8 VANTAGE COUPE", "V8 VANTAGE ROADSTER", "V8 VANTAGE S COUPE", "V8 VANTAGE S ROADSTER", "VANQUISH COUPE", "VANQUISH VOLANTE", "V12 ZAGATO", "DB5", "DBS", "DBS VOLANTE", "CYGNET", "ONE-77", "DBR9", "M3", "M5", "M6", "X6 M", "CABRIO", "COUPE", "ROADSTER", "COUNTRYMAN", "PACEMAN", "JOHN COOPER WORKS", "ZONDA", "NEW XV", "IMPREZA WRX HATCH", "IMPREZA WRX STI HATCH", "IMPREZA WRX STI SEDAN", "IMPREZA WRX SEDAN", "ETIOS CROSS", "HURACAN", "UP", "EXPLORER", "FORTWO CABRIO", "GT", "GTL", "GTM", "C2", "CRX", "AC 2000", "AVIATOR", "BLACKWOOD", "CAPRI", "CONTINENTAL", "LS", "MARK", "MARK LT", "MKR", "MKS", "MKX", "MKZ", "NAVIGATOR", "PREMIERE", "TOWN CAR", "VERSAILLES", "ZEPHYR", "CLASSIC", "ACTYON", "MARAJO", "SUPREMA", "NEW BEETLE", "QUANTUM", "CROSSFOX", "MILLE", "GC2", "EC7", "530", "MOBI", "TORO", "RENEGADE", "DUSTER OROCH", "SANDERO RS", "HB20R", "GRAND SANTA FE", "GOLF VARIANT", "SPACE CROSS", "2008", "QUORIS", "GRAND CARNIVAL", "T8", "T6", "T5", "KA SEDAN", "FOCUS FASTBACK", "100% financiado"
    ];

    public function run()
    {
        $porcentagem = 0;
        $max = count($this->array_carros);

        echo "Carregando dados para os carros: \n";
        echo "[";

        $carros = [];
        foreach ($this->array_carros as $i => $nome) {
            $fipe_data = $this->findFipe($nome);

            $p = round(100 * $i / $max);
            if ($p % 5 === 0 && $p != $porcentagem) {
                $porcentagem = $p;
                echo ".";
            }

            $carros[] = [
                'nome' => $nome,
                'fipe_id' => $fipe_data[1],
                'marca_id' => $fipe_data[0],
                'created_at' => now(),
                'updated_at' => now(),
            ];
        }

        echo "] 100%\n";

        Carro::insert($carros);
    }

    public function findFipe($pesquisa)
    {
        $dados_marcas = json_decode(Storage::get('marcas_carros.json'), true);

        foreach ($dados_marcas as $i => $marca) {
            foreach ($marca['carros'] as $id => $carro) {
                if (strpos(strtoupper($carro), strtoupper($pesquisa)) !== false) {
                    return [$i + 1, $id];
                }
            }
        }

        return [null, null];
    }
}
